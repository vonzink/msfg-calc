<div class="hub-hero">
  <h1>Loan Calculator Hub</h1>
  <p class="hub-hero__sub">
    Select a calculator to explore, or open the <a href="/workspace">Workspace</a> to run multiple calculators side by side.
  </p>
  <div class="hub-counter-row">
    <% categories.forEach(cat => { %>
      <span class="hub-counter">
        <span class="hub-counter-dot" style="background: <%= cat.color %>;"></span>
        <span id="hubCount-<%= cat.id %>"><%= calculators.filter(c => c.category === cat.id).length %></span>
        <%= cat.label.replace(' Calculators', '') %>
      </span>
    <% }) %>
  </div>
</div>

<div class="hub-search-wrap">
  <div class="hub-search">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
    <input type="text" id="hubSearch" placeholder="Search calculators..." autocomplete="off">
  </div>
</div>

<% categories.forEach(cat => { %>
  <div class="hub-category" data-category="<%= cat.id %>">
    <h2 class="hub-category__title">
      <span class="hub-category__dot" style="background: <%= cat.color %>;"></span>
      <%= cat.label %>
    </h2>
    <div class="hub-grid">
      <% calculators.filter(c => c.category === cat.id).forEach(calc => { %>
        <a href="/calculators/<%= calc.slug %>" class="hub-card" data-name="<%= calc.name.toLowerCase() %>">
          <div class="hub-card__icon"><%= calc.icon %></div>
          <div class="hub-card__body">
            <h3 class="hub-card__title"><%= calc.name %></h3>
            <p class="hub-card__desc"><%= calc.description %></p>
          </div>
          <svg class="hub-card__arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
        </a>
      <% }) %>
    </div>
  </div>
<% }) %>

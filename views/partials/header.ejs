<header class="site-header">
  <div class="site-header__inner">
    <a href="/" class="site-header__brand">
      <img
        src="<%= site.logo.src %>"
        alt="<%= site.logo.alt %>"
        class="site-header__logo"
        style="max-width: <%= site.logo.width %>px;"
        onerror="this.style.display='none'"
      >
    </a>

    <nav class="site-header__nav">
      <a href="/" class="site-header__link<%= currentPath === '/' ? ' active' : '' %>">Hub</a>
      <a href="/workspace" class="site-header__link<%= currentPath === '/workspace' ? ' active' : '' %>">Workspace</a>
      <div class="site-header__dropdown">
        <button class="site-header__link site-header__dropdown-trigger">
          Calculators <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="6 9 12 15 18 9"/></svg>
        </button>
        <div class="site-header__dropdown-menu">
          <% categories.forEach(cat => { %>
            <div class="site-header__dropdown-group">
              <div class="site-header__dropdown-label"><%= cat.label %></div>
              <% calculators.filter(c => c.category === cat.id).forEach(calc => { %>
                <a href="/calculators/<%= calc.slug %>" class="site-header__dropdown-item">
                  <span class="site-header__dropdown-icon"><%= calc.icon %></span>
                  <%= calc.name %>
                </a>
              <% }) %>
            </div>
          <% }) %>
        </div>
      </div>
      <a href="/settings" class="site-header__link<%= currentPath === '/settings' ? ' active' : '' %>">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
      </a>
    </nav>

    <button class="site-header__mobile-toggle" id="mobileMenuToggle" aria-label="Toggle menu">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
    </button>
  </div>
</header>
